<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Article</title>
    <link rel="stylesheet" href="feedStyles.css">
    <script src="modernizr-1.5.js"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

    
</head>
<body id="mainPage">

    <nav id="menu">
        <div class="exit">
            <a href="Sign up.html">Log Out</a>
        </div>

        <!-- <header id="title">
            <h1>Main Article</h1>
        </header>-->

        <div class="imgcontainer"> 
            <a href="profilePage.html"><img src= "GD-logo.png" alt="Avatar" class="avatar"></a>
        </div>

        <ul>
            <li><a href="profilePage.html">Home</a></li>
            <li><a href="profilePage.html">Your Profile</a></li>
            <li><a href="draftPost.html">Create Post</a></li>
            <li><a href="feedPage.html">What's Trending</a></li>
            <li><a href="generalSettings.html">Settings</a></li>
        </ul>
    </nav>

    <div id="windowAdjust">

    <section id="mainSection">
        <article>
            <header>
                <hgroup>
                    <h3>Sample Article</h3>
                </hgroup>

                <!--Add a date here, which is the used as a placeholder. Therefore, I just used the current date. -->
                <hgroup id="datePosted"></hgroup>

                <script>
                
                var today = new Date();
                var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                
                var date = months[today.getMonth()] + ' ' + today.getDay() + ', ' + today.getFullYear();
                
                document.getElementById('datePosted').innerHTML = date;

                </script>
            </header>
            
            <p>Text goes here.</p>
        </article>

        <article>
            <header>
                <hgroup>
                    <h5>Comments</h5><br>
                </hgroup>
            </header>            

        <!-- Comment Section with a Comment Post-->
        <div id="editor">
            <p>Join the Conversation</p>
            <p><br></p>
          </div>

        </article>
    </section>

    
    </div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
        var quill = new Quill('#editor', {
          theme: 'snow'
        });
      </script>

<script>
    var Delta = Quill.import('delta');
var quill = new Quill('#editor-container', {
  modules: {
    toolbar: true
  },
  placeholder: 'Compose an epic...',
  theme: 'snow'
});

// Store accumulated changes
var change = new Delta();
quill.on('text-change', function(delta) {
  change = change.compose(delta);
});

// Save periodically
setInterval(function() {
  if (change.length() > 0) {
    console.log('Saving changes', change);
    /* 
    Send partial changes
    $.post('/your-endpoint', { 
      partial: JSON.stringify(change) 
    });
    
    Send entire document
    $.post('/your-endpoint', { 
      doc: JSON.stringify(quill.getContents())
    });
    */
    change = new Delta();
  }
}, 5*1000);

// Check for unsaved data
window.onbeforeunload = function() {
  if (change.length() > 0) {
    return 'There are unsaved changes. Are you sure you want to leave?';
  }
}
</script>

    
    <footer id="copyright">
        Copyright: Lonestar Group
    </footer>
</body>
</html>
