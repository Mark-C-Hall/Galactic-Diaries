<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Create Post</title>
    <link rel="stylesheet" href="feedStyles.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="modernizr-1.5.js"></script>
</head>

<style>

</style>

<body>

    
        
<!--I'm adding in the img container so that it serves as the icon in the menu. I also made
sure that clicking the logo and home page link goes directly to the profile page rather than 
the login page, because it doesn't make any sense to have the home page be the login page. -->

    <nav id="menu">
        <div class="exit">
            <a href="Sign up.html">Log Out</a>
        </div>

        
        <div class="imgcontainer"> 
            <a href="profilePage.html"><img src= "GD-logo.png" alt="Avatar" class="avatar"></a>
        </div>

       <!-- <header id="title">
            <h1>Create Post</h1>
        </header> -->
    
        <ul>
            <li><a href="profilePage.html">Home</a></li>
            <li><a href="profilePage.html">Your Profile</a></li>
            <li class="currentPage"><a href="draftPost.html">Create Post</a></li>
            <li><a href="feedPage.html">What's Trending</a></li>
            <li><a href="generalSettings.html">Settings</a></li>
        </ul>
    </nav>

    <div id="windowAdjust">
        <section id="mainSection">
        <article>
            <!--<form action="upload.php" method="post" enctype="multitype/form-data">-->
                <lable for="title">Title of Post</lable>
                <input type="text" id="title">
                <!-- <label for="post">What's on your mind?</label><br>-->
<!-- Create the editor container -->
                <div id="editor">
                    <p>Hello World!</p>
                    <p>Some initial <strong>bold</strong> text</p>
                    <p><br></p>
                </div>
                <input type="file" name="photoToUpload" id="photoToUpload"><br><br>
                 <input type="submit" value="Save Draft">
                 <input type="submit" value="Post"> <br><br>
             <!--</form>-->
        </article>
    </section>
</div>
</body>

<!-- Include the Quill library -->
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<!-- Initialize Quill editor -->
<script>
  var quill = new Quill('#editor', {
    theme: 'snow'
  });
</script>
    
   <script>
    var Delta = Quill.import('delta');
var quill = new Quill('#editor-container', {
  modules: {
    toolbar: true
  },
  placeholder: 'Compose an epic...',
  theme: 'snow'
});

// Store accumulated changes
var change = new Delta();
quill.on('text-change', function(delta) {
  change = change.compose(delta);
});

// Save periodically
setInterval(function() {
  if (change.length() > 0) {
    console.log('Saving changes', change);
    /* 
    Send partial changes
    $.post('/your-endpoint', { 
      partial: JSON.stringify(change) 
    });
    
    Send entire document
    $.post('/your-endpoint', { 
      doc: JSON.stringify(quill.getContents())
    });
    */
    change = new Delta();
  }
}, 5*1000);

// Check for unsaved data
window.onbeforeunload = function() {
  if (change.length() > 0) {
    return 'There are unsaved changes. Are you sure you want to leave?';
  }
}
</script>



</html>
